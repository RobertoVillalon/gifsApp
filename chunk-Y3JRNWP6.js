import{b as A}from"./chunk-ZOHJLWJK.js";import{Fa as D,Ha as w,J as v,Ja as d,Ka as f,La as o,Ma as l,Na as y,O as p,Oa as E,Pa as I,Ta as R,Ua as V,V as u,W as S,fa as T,na as _,pa as r,va as h,ya as C}from"./chunk-JL2ZBQIJ.js";var c=class i{trendingScrollState=T(0);static \u0275fac=function(e){return new(e||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})};var H=["groupDiv"],b=(i,t)=>t.id;function x(i,t){if(i&1&&(o(0,"div"),y(1,"img",3),l()),i&2){let e=t.$implicit;r(),D("src",e.url,_)}}function G(i,t){if(i&1&&(o(0,"div",2),d(1,x,2,1,"div",null,b),l()),i&2){let e=t.$implicit;r(),f(e)}}var m=class i{ngAfterViewInit(){let t=this.scrollDivRef()?.nativeElement;t&&(t.scrollTop=this.scrollStateService.trendingScrollState())}gifService=p(A);scrollStateService=p(c);scrollDivRef=h("groupDiv");onScroll(t){let e=this.scrollDivRef()?.nativeElement;if(!e)return;let n=e.scrollTop,s=e.clientHeight,g=e.scrollHeight,a=n+s+300>=g;this.scrollStateService.trendingScrollState.set(n),a&&this.gifService.loadTrendingGifs()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["app-trending"]],viewQuery:function(e,n){e&1&&R(n.scrollDivRef,H,5),e&2&&V()},decls:4,vars:0,consts:[["groupDiv",""],[1,"h-screen","overflow-y-scroll","grid","grid-cols-2","md:grid-cols-4","gap-4","pt-1.5",3,"scroll"],[1,"grid","gap-4"],["alt","",1,"h-auto","max-w-full","rounded-lg",3,"src"]],template:function(e,n){if(e&1){let s=E();o(0,"div",1,0),I("scroll",function(a){return u(s),S(n.onScroll(a))}),d(2,G,3,0,"div",2,w),l()}e&2&&(r(2),f(n.gifService.trendingGifsGroup()))},encapsulation:2,changeDetection:0})};export{m as default};
